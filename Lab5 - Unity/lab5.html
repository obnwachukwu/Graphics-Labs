<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>3D Exercise - Your Name</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
  <style>
    body { margin: 0; overflow: hidden; background-color: #000; }
    h1 {
      position: absolute;
      color: white;
      z-index: 10;
      margin: 10px;
      font-family: sans-serif;
    }
  </style>
</head>
<body>
  <h1>Bogdan Nwachukwu</h1>

  <script>
    // --- 3. Add a scene ---
    const scene = new THREE.Scene();

    // --- 4. Create a sphere (geometry, material, mesh) ---
    const geometry = new THREE.SphereGeometry(1, 32, 32); // radius, widthSegments, heightSegments
    const material = new THREE.MeshLambertMaterial({ color: 0x0077ff }); // lighting material
    const sphere = new THREE.Mesh(geometry, material);
    sphere.castShadow = true; // allow sphere to cast shadows
    scene.add(sphere);

    // --- 5. Add a camera ---
    const camera = new THREE.PerspectiveCamera(80, window.innerWidth / window.innerHeight, 0.1, 1000);
    camera.position.z = 5;

    // --- 6. Add a renderer ---
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    renderer.setSize(window.innerWidth, window.innerHeight);
    renderer.shadowMap.enabled = true; // enable shadows
    document.body.appendChild(renderer.domElement);

    // --- 11. Add a spotlight ---
    const spotLight = new THREE.SpotLight(0xffffff);
    spotLight.position.set(3, 5, 3);
    spotLight.castShadow = true;
    spotLight.shadow.mapSize.width = 1024;
    spotLight.shadow.mapSize.height = 1024;
    scene.add(spotLight);

    // --- Camera Helper (step 16) ---
    const lightHelper = new THREE.CameraHelper(spotLight.shadow.camera);
    scene.add(lightHelper);

    // --- 16. Add a plane for shadows ---
    const planeGeometry = new THREE.PlaneGeometry(10, 10);
    const planeMaterial = new THREE.MeshLambertMaterial({ color: 0x888888 });
    const plane = new THREE.Mesh(planeGeometry, planeMaterial);
    plane.receiveShadow = true;
    plane.rotation.x = -Math.PI / 2;
    plane.position.y = -2;
    scene.add(plane);

    // --- 7. Animation function (rotation + translation + bounce) ---
    let speedX = 0.02;     // horizontal speed
    let velocityY = 0;     // vertical velocity (for gravity)
    let gravity = -0.002;  // gravity force
    const floorY = -1;     // collision height with the plane

    function repeatMe() {
      // Rotate sphere
      sphere.rotation.x += 0.01;
      sphere.rotation.y += 0.01;

      // Move horizontally (translation)
      sphere.position.x += speedX;
      if (sphere.position.x > 3 || sphere.position.x < -3) speedX = -speedX; // bounce left/right

      // Gravity + bounce on plane
      velocityY += gravity;
      sphere.position.y += velocityY;
      if (sphere.position.y - 1 < floorY) { // hit the plane
        sphere.position.y = floorY + 1;
        velocityY *= -0.8; // bounce with damping
      }

      renderer.render(scene, camera);
      requestAnimationFrame(repeatMe);
    }

    repeatMe();

    // --- Handle window resize ---
    window.addEventListener('resize', () => {
      camera.aspect = window.innerWidth / window.innerHeight;
      camera.updateProjectionMatrix();
      renderer.setSize(window.innerWidth, window.innerHeight);
    });
  </script>
</body>
</html>
